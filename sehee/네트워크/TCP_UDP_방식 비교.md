# TCP / UDP 방식 비교
TCP/UDP 모두 네트워크 계층 중, '전송 계층'에서 데이터를 보내기 위해 사용하는 프로토콜이다.

TCP는 '가상회선 방식'이고, '연결형 서비스'이다. 3-way handshaking 과정을 통해 연결을 설정해서 신뢰성을 보장하며 흐름제어 및 혼잡 제어 기능을 제공하여 순서를 보장하는 대신 속도가 느리다.

UDP는 '데이터그램 방식'이고, '비연결형 서비스'이다. 연결을 설정하고 해제하는 과정이 없고, 패킷에 순서 부여나 재조립을 하지 않기 때문에 순서를 보장하지 않고 신뢰도가 낮은 데이터 전송을 하는 대신, 단방향 데이터 전송으로 속도가 빠르다.

따라서 TCP는 신뢰도가 필요한 HTTP 통신, 이메일 등에 사용되고, UDP는 빠른 속도가 중용한 스트리밍 서비스에 사용된다.

<br/>

* TCP : Transmission Control Protocol : 전송 제어 프로토콜
    - "인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜"
* UDP : User Datagram Protocol
    - "데이터를 데이터그램 단위로 처리하는 프로토콜"

<br/>

* 전송 계층 : 송신자와 수신자를 연결하는 통신서비스를 제공하는 계층. 데이터의 전달을 담당한다.

* 3-way handshaking : 양쪽 모두 데이터를 전송할 준비가 되었다는 것을 보장한다. 실제로 데이터 전달 시작 전에 한쪽이 다른 쪽에 준비되었다는것을 알린다. 

<br/>

* TCP 서버의 특징
    1. 서버와 클라이언트는 1:1로 연결된다.
    2. 스트림 전송으로 전송 데이터의 크기가 무제한이다.
    3. 패킷에 대한 응답을 해야하기 때문에 (시간지연, CPU 소모) 성능이 낮다.
    4. 손실된 경우 재전송 요청을 하므로 Streaming 서비스에 불리하다.
    5. 서버 소켓은 연결만을 담당한다. 

<br/>

* 데이터그램 : 독립적인 관계를 지니는 패킷. UDP는 비연결형 프로토콜, 즉 연결을 위해 할당되는 논리적인 경로가 없어서 각각의 패킷은 각기 다른 경로로 전송되며, 각각의 패킷은 독립적인 관계를 지니게 되는 것이다. 

<br/>

* UDP서버의 특징
    1. UDP에는 연결자체가 존재하지 않아(Connect 함수 불필요) 서버 소켓과 클라이언트 소켓의 구분이 없다
    2. 소켓 대신 IP를 기반으로 데이터를 전송한다. 
    3. 서버와 클라이언트는 1:1, 1:N, N:N 등으로 연결될 수 있다. 
    4. 데이터그램 단위로 전송되며 그 크기는 65535 바이트로 초과하면 잘라서 보낸다. 
    5. '흐름제어'가 없어서 패킷이 전송되었는지, 오류가 없는지 확인할수가 없다.

<br/>

* 흐름제어 : 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 것.

* 혼잡제어 : 네트워크 내의 패킷 수가 넘치지 않도록 방지하는 것.


<br/>

* TCP flow
![tcp flow](https://user-images.githubusercontent.com/101235867/209486331-969b2fd1-ea49-4686-a3a0-64d779e7db09.png)

* UDP flow
![udp flow](https://user-images.githubusercontent.com/101235867/209486341-282a341f-8e1f-4e5e-9fee-e089450667ca.png)




<br/>
<br/>

---
### Source
1. 네트워크 면접질문 총정리 : https://365kim.tistory.com/56
2. [기술면접] TCP와 UDP : https://velog.io/@ahsy92/%EA%B8%B0%EC%88%A0%EB%A9%B4%EC%A0%91-TCP%EC%99%80-UDP
